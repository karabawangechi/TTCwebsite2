"use strict";var express=require("express"),app=express(),bodyParser=require("body-parser"),session=require("express-session"),flash=require("connect-flash"),passport=require("passport"),bcrypt=require("bcryptjs"),jwt=require("jsonwebtoken"),nodemailer=require("nodemailer"),cookieParser=require("cookie-parser"),MongoStore=require("connect-mongo"),connectDB=require("./config/db.config"),Reply=require("./models/reply.model"),Blog=require("./models/blog.model"),pdfkit=require("pdfkit"),fs=require("fs"),path=require("path"),Copperivy=require("./models/copperivy"),Register=require("./models/registerrestaurant.model"),router=express.Router();app.use(express.json()),app.use(bodyParser.urlencoded({extended:!1}));var PORT=process.env.PORT||5003;function sendConfirmationEmail(r){var s,o,t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=nodemailer.createTransport({service:"gmail",auth:{user:"",pass:""}}),o={from:"",to:r,subject:"Subscription Confirmation",text:"Thank you for subscribing to our newsletter! You will receive monthly updates on the best places to dine."},e.next=5,regeneratorRuntime.awrap(s.sendMail(o));case 5:return t=e.sent,console.log("Email sent:",t),e.abrupt("return",t);case 10:throw e.prev=10,e.t0=e.catch(0),console.error("Error sending email:",e.t0),e.t0;case 14:case"end":return e.stop()}},null,null,[[0,10]])}app.use(cookieParser()),app.use(session({secret:"keyboard cat",resave:!1,saveUninitialized:!0,store:MongoStore.create({mongoUrl:"mongodb://127.0.0.1:27017/Mwencha"})})),app.use(express.static("assets")),app.set("view engine","ejs"),app.use("/assets",express.static("assets")),app.use(express.static("assets")),app.use(express.static("uploads")),app.use(express.static("node_modules")),app.use("/",router),router.get("/Index",function(e,r){r.render("Index.ejs.ejs")}),router.get("/About",function(e,r){r.render("about.ejs")}),router.get("/contact",function(e,r){r.render("contact.ejs")}),router.get("/courses",function(e,r){r.render("courses.ejs")}),router.get("/register",function(e,r){r.render("courses.ejs")}),module.exports={sendConfirmationEmail:sendConfirmationEmail},app.listen(PORT,function(){console.log("App is listening on port ".concat(PORT))});
//# sourceMappingURL=server.min.js.map
